/** thinker-admin-css-v1.0.0 MTI License By https://github.com/yirius/thinker-admin-css.git */
 ;layui.extend({view:"lay/modules/view"}).define(["conf","view","jquery"],function(e){window.POPUP_DATA={};var t=layui.conf,r=layui.view,n=layui.element,o=layui.jquery;layui.extend(t.extend);var i=o(window),l=o(document),s=(o("body"),{route:layui.router(),closeOnceHashChange:!1,ie8:r.ie8,get:r.request,appBody:null,shrinkCls:"thinker-sidebar-shrink",isInit:!1,routeLeaveFunc:null,loginToken:null,getScreenType:function(){var e=i.width();return 1200<e?3:992<e?2:768<e?1:0},routeLeave:function(e){this.routeLeaveFunc=e},session:r.session,render:function(e){"string"==typeof e&&(e=o("#"+e));var i="SCRIPT"==e.get(0).tagName?"next":"find";e[i]("[is-template]").remove(),r.parse(e)},initPage:function(){layui.each(layui.conf.views.style,function(e,i){layui.link(i+"?v="+t.v)}),this.initView(s.route)},initView:function(i){if(s.route.href&&"/"!=s.route.href||(i=this.route=layui.router("#"+t.views.entry)),i.fileurl="/"+i.path.join("/"),1==t.login.loginCheck)if(this.session.token()){if(i.fileurl==t.login.loginPage)return void this.navigate("/")}else if(i.fileurl!=t.login.loginPage)return void this.session.logout();if(-1===o.inArray(i.fileurl,t.indPage)){function e(e){1==t.views.viewTabs?r.renderTabs(i):r.render(i.fileurl)}null==r.containerBody?r.renderLayout(function(){n.render("nav","thinker-sidebar"),e()}):e()}else r.renderIndPage(i.fileurl,function(){1==t.views.viewTabs&&r.tab.clear()})},sidebarFocus:function(e){e=e||this.route.href;var i=o("#"+t.views.sidebar).find('[lay-href="'+e+'"]').eq(0);0<i.length&&(i.parents(".layui-nav-item").addClass("layui-nav-itemed"),i.click())},flexible:function(e){1==e?r.container.removeClass(this.shrinkCls):r.container.addClass(this.shrinkCls)},on:function(e,i){return layui.onevent(t.eventName,"system("+e+")",i)},fire:function(e,i){layui.event(t.eventName,"system("+e+")",i)},csshref:function(e){return e=null==e?this.route.path.join("/"):e,t.views.css+"views/"+e+".css?v="+t.v},prev:function(e){null==e&&(e=-1),window.history.go(e)},navigate:function(e){e==t.views.entry&&(e="/"),window.location.hash=e},modal:{info:function(e,i){(i=i||{}).titleIcoColor=i.titleIcoColor||"#5a8bff",i.titleIco=i.titleIco||"exclaimination",i.title=['<i class="layui-icon layui-icon-'+i.titleIco+'" style="font-size:12px;background:'+i.titleIcoColor+';display:inline-block;position:relative;top:-2px;height:24px;line-height:24px;text-align:center;width:24px;color:#fff;border-radius:50%;margin-right:10px;"></i>'+(i.title||"提醒"),"background:#fff;border:none;font-weight:bold;font-size:18px;color:#08132b;padding-top:20px;height:46px;line-height:46px;padding-bottom:0;"],i=o.extend({btn:["我知道了"],skin:"layui-layer-admin-modal",area:[s.getScreenType()<1?"90%":"50%"],closeBtn:0,shadeClose:!0},i),layer.alert(e,i)},success:function(e,i){(i=i||{}).titleIco="ok",i.titleIcoColor="#30d180",this.info(e,i)},warn:function(e,i){(i=i||{}).titleIco="exclaimination",i.titleIcoColor="#ff9900",this.info(e,i)},error:function(e,i){(i=i||{}).titleIco="close",i.titleIcoColor="#ed4014",this.info(e,i)}},isUrl:function(e){return/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)(([A-Za-z0-9-~]+)\.)+([A-Za-z0-9-~\/])+$/.test(e)},popup:r.popup,http:{request:r.request,_request:function(e,i,n,t,o,l){r.request({type:e,url:i,data:n,done:function(e){"function"==typeof t&&t(e.code,e.msg,e.data,e)},complete:function(e,i){if(1===e){if("function"==typeof o)return o(i.code,i.msg,i.data,i)}else if("function"==typeof l)return l(e,i)}})},get:function(e,i,n,t,o){this._request("GET",e,i,n,t,o)},post:function(e,i,n,t,o){this._request("POST",e,i,n,t,o)},put:function(e,i,n,t,o){this._request("PUT",e,i,n,t,o)},delete:function(e,i,n,t,o){this._request("DELETE",e,i,n,t,o)}},reloadTable:function(){}}),a=!1;function u(){s.flexible(!1);var e=layui.device();(e.weixin||e.android||e.ios)&&o(document).on("click","#"+t.views.containerBody,function(){s.getScreenType()<2&&!r.container.hasClass(s.shrinkCls)&&s.flexible(!1)}),a=!0}i.on("resize",function(e){if(s.getScreenType()<2){if(1==a)return;u()}else a=!1}).on("hashchange",function(e){s.getScreenType()<2&&s.flexible(!1),s.route=layui.router(),layui.layer.closeAll(),s.initView(s.route)});var c="."+s.shrinkCls+" #"+t.views.sidebar+" .layui-nav-item a",f=o.extend({flexible:function(){var e=r.container.hasClass(s.shrinkCls);s.flexible(e),s.session.set("flexible",e)},refresh:function(){var e=s.route.href;1==t.views.viewTabs?r.tab.refresh(e):r.render(e)},prev:function(){s.prev()},logout:function(){s.session.logout()},fullscreen:function(e){var i="layui-icon-screen-full",n="layui-icon-screen-restore",t=e.find(".layui-icon");t.hasClass(i)?((e=document.body).webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.requestFullScreen&&e.requestFullscreen(),t.removeClass(i).addClass(n)):((e=document).webkitCancelFullScreen?e.webkitCancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.cancelFullScreen?e.cancelFullScreen():e.exitFullscreen&&e.exitFullscreen(),t.removeClass(n).addClass(i))}},t.events);if(l.on("keydown",function(e){13==(document.all?window.event:e).keyCode&&o(":focus").parents(".layui-form").find("[lay-submit]").click()}).on("click","[lay-href]",function(e){var i=o(this).attr("lay-href"),n=o(this).attr("target");if(""!=i)return o.isFunction(s.routeLeaveFunc)?s.routeLeaveFunc(s.route,i,t):t(),!1;function t(){"__blank"==n?window.open(i):s.navigate(i)}}).on("click","[lay-popup]",function(e){var i=o(this).attr("lay-popup");return s.popup(0===i.indexOf("{")?new Function("return "+o(this).attr("lay-popup"))():{url:i}),!1}).on("mouseenter","[lay-tips]",function(e){var i=o(this).attr("lay-tips"),n=o(this).attr("lay-dire")||3;i&&layui.layer.tips(i,o(this),{tips:[n,"#263147"]})}).on("mouseleave","[lay-tips]",function(e){layer.closeAll("tips")}).on("click","*["+t.eventName+"]",function(e){var i=o(this),n=i.attr(t.eventName);f[n]&&f[n](i),s.fire(n,i)}).on("click",c,function(e){1!=a&&0<o(this).parent().find(".layui-nav-child").length&&(s.flexible(!0),layer.closeAll("tips"))}).on("mouseenter",c,function(e){var i=o(this).attr("title");i&&layui.layer.tips(i,o(this).find(".layui-icon"),{tips:[2,"#263147"]})}).on("mouseleave",c,function(e){layer.closeAll("tips")}),s.getScreenType()<2)u();else{var d=s.session.get("flexible");s.flexible(null===d||d)}e("admin",s)});